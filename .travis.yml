os:
- osx
language: node_js
node_js:
- stable
cache:
  directories:
  - node_modules
script:
- npm run-script coverage
- npm run-script report-coverage
before_deploy:
- echo -e 'SENDGRID_TOKEN=random_value' >> .env
- echo -e 'GITHUB_USER=random_value' >> .env
- echo -e 'GITHUB_TOKEN=random_value' >> .env
- npm run-script build:all
- zip
deploy:
  provider: releases
  token: '$GITHUB_TOKEN'
  file_glob: true
  file: dist/ununu*
  draft: true
  cleanup: false
  on:
    branch: master